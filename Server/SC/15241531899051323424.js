// { "framework": "Vue" }

!function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var r={};t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=286)}({0:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(15),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=a.default},1:function(e,t,r){"use strict";Promise.prototype.handle=function(){var e=["0000","0001","0002","0003","0004","1001"],t={"0000":"成功","0001":"网络错误","0002":"下载失败","0003":"文件删除失败","0004":"文件存储失败",1001:"扫描超时","01":"缺少必填参数","02":"参数格式不正确","03":"找不到对应的值","04":"未知错误","05":"返回数据为空或解析错误"};return this.catch(function(r){if(-1!=Object.prototype.toString.call(r).indexOf("Error"))throw r.message;if(r&&r.code){var n=r.code;throw n=-1!=e.indexOf(n)?n:n.substr(2),t[n]||r.data||t["04"]}throw r})},Promise.prototype.finally=function(e){var t=this.constructor;return this.then(function(r){return t.resolve(e()).then(function(){return r})},function(r){return t.resolve(e()).then(function(){throw r})})}},10:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=weex.requireModule("jfLoadingModule");t.default={show:function(){n.show()},hide:function(){n.dismiss()}}},11:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(1);var n=r(14),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=a.default},12:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(20),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=a.default},129:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(3),i=n(a),o=r(4),u=n(o),c=r(17),d=n(c),s=r(12),f=n(s),l=r(11),_=n(l),h=r(13),g=n(h),p=r(6),m=n(p),v=r(16),w=n(v),b=r(88),y=n(b),k=r(38),x=n(k),C=r(26),P=n(C),O=r(53),j=n(O);t.default={data:function(){return{right_src:(0,m.default)("jfb_mine_message_icon.png"),menu:"",auth:"",amount:"0.00",balance_info:"",card_arr:"",card:"",user_avatar_src:"",avatar_default_src:(0,m.default)("grzx_2.png"),is_on_off:!0,eye_on_src:(0,m.default)("jfb_mine_eye_on_icon.png"),eye_off_src:(0,m.default)("jfb_mine_eye_off_icon.png"),bank_add_src:(0,m.default)("jfb_mine_bank_add_icon.png"),bank_default_src:(0,m.default)("bank_000.png"),need_cash:!1,user_src:(0,m.default)("jfb_user_icon.png"),user_after_src:(0,m.default)("jfb_user_login_icon.png"),time_src:(0,m.default)("jfb-mine-time-icon.png")}},computed:{amountComputed:function(){return this.auth?this.is_on_off?this.amount:"******":"未登录"}},filters:{cardIdFilter:function(e){return e?e.substr(0,6)+"****"+e.substr(e.length-4,4):""},cardLogoFilter:function(e){return e?(0,m.default)("bank_"+e+".png"):""},cardNameFilter:function(e){return e?e.substr(0,e.indexOf("银行")+2):""}},created:function(){this.fetchTreeData()},methods:{handleViewAppear:function(){this.fetchUserInfo(),this.fetchUserAmount(),this.fetchUserAvatar(),this.fetchCardList()},handleDispatch:function(e){x.default.authenRealName()},returnCardNo:function(e){return j.default.cardFormatStar2(e)},handleLogin:function(){return!this.auth&&g.default.show("jfb_login")},handleWithdrawalsCard:function(e){var t=this;i.default.getToken().then(function(t){if("3"===t.authenFlag||"D"===t.authenFlag||"B"===t.authenFlag)return _.default.push(e);u.default.confirm({message:"请先完成实名认证",okTitle:"去认证",cancelTitle:"取消"},function(e){if("去认证"!==e)return null;switch(t.authenFlag){case"2":return _.default.push("jfb_authenticating");case"4":return _.default.push("jfb_authenticationFailure");default:return _.default.push("jfb_certification")}})}).catch(function(){return!t.auth&&g.default.show("jfb_login")})},handleJump:function(e){return this.auth?_.default.push(e):g.default.show("jfb_login")},fetchCardList:function(){var e=this;i.default.getToken().then(function(t){if(!t.mobileNo)return null;var r={method:"POST",body:{bindType:"01",cardIdx:"0",cardNum:"10"},https:!0};(0,w.default)("GetBankCardList4.Req",r).then(function(r){if("0000"!==r.respCode)return e.card="",e.card_arr="";var n="";e.card_arr=r.data,r.data.forEach(function(e){parseInt(e.isMainCard)&&(n=e)}),e.card=n,f.default.set("CASHCARD"+t.mobileNo,n)}).catch(function(t){e.card="",u.default.toast({message:t})})}).catch(function(t){e.card="",e.card_arr=""})},fetchUserInfo:function(){var e=this;i.default.getToken().then(function(t){e.auth=t,-1!==["3","D"].indexOf(t.authenFlag)&&x.default.queryUserInfo().then(function(t){e.need_cash="SD"===t.data.tradeType}).catch(function(t){e.need_cash=!1})}).catch(function(t){e.auth=""})},fetchUserAmount:function(){var e=this;d.default.query().then(function(t){e.amount=(parseFloat(t.balance)/100).toFixed(2),e.balance_info=t}).catch(function(e){})},fetchUserAvatar:function(){var e=this;i.default.cache.get("avatar").then(function(t){e.user_avatar_src=t}).catch(function(t){e.user_avatar_src=""})},fetchTreeData:function(){var e=this;y.default.get("jfb_mine").then(function(t){t.forEach(function(t){"catg"===t.type&&(e.menu=t)})}).catch(function(e){u.default.toast({message:"error"})})}},components:{ddCatg:r(253),WovView:P.default}}},13:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(19),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=a.default},14:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(7),i=n(a),o=r(10),u=n(o),c=r(8),d=n(c),s=r(9),f=n(s),l=r(0),_=n(l),h=weex.requireModule("navigator"),g=weex.requireModule("pageManagerModule"),p=weex.requireModule("externalAppModule"),m=new f.default(1e3);t.default={push:function(e,t){if(!m.do(e+JSON.stringify(t)))return null;u.default.show();var r=_.default.isObject(e)?e.url:e,n=_.default.isObject(e)?e.animated:"true",a=_.default.isObject(e)?e.close:"";i.default.page(r).then(function(e){e=t?e+"?parmas="+encodeURIComponent(JSON.stringify(t)):e,h.push({url:e,animated:n,close:a},function(e){})}).catch(function(e){d.default.toast({message:e})}).finally(function(){u.default.hide()})},pop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"true";h.pop({animated:e},function(e){})},root:function(){g.popToRootPage(function(e){})},getParmas:function(e){var t=e.$getConfig().bundleUrl,r=t.indexOf("?parmas=")>-1?t.substr(t.indexOf("?parmas=")+8):"";return r?JSON.parse(decodeURIComponent(decodeURIComponent(r))):""},back:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";g.popWithParam({popBack:e+"",popFront:t+""},function(e){})},del:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";g.deletePageWithParam({popBack:e+"",popFront:t+""},function(e){})},external:function(e){p.open(e)}}},15:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default={fill:function(e){return i(e)},keys:function(e){return o(e)},keyBy:function(e,t){return s(e,t)},catKeys:function(e,t){return f(e,t)},catArrayKey:function(e,t){return l(e,t)},defaults:function(e,t){return _(e,t)},isEmpty:function(e){return u(e)},getType:function(e){return c(e)},checkType:function(e,t){return d(e,t)},isString:function(e){return d(e,"string")},isBoolean:function(e){return d(e,"boolean")},isArray:function(e){return d(e,"array")},isNumber:function(e){return d(e,"number")},isFunction:function(e){return d(e,"function")},isObject:function(e){return d(e,"object")},isError:function(e){return d(e,"error")}};var i=function(e){return Array.apply(null,Array(e))},o=function(e){var t=[];if("object"===c(e)&&!u(e))for(var r in e)t.push(r);return t},u=function(e){if(d(e,"string")||d(e,"array"))return 0===e.length;if(d(e,"object"))for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0},c=function(e){return Object.prototype.toString.call(e).toLowerCase().match(/\s\w+/)[0].trim()},d=function(e,t){return c(e)===t.toLowerCase()},s=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(d(e,"array"))return e.forEach(function(e){r=a({},r,n({},e[t],e))}),r},f=function(e,t){var r={};return d(e,"object")&&d(t,"array")&&t.forEach(function(t){r[t]=e[t]}),r},l=function(e,t){var r=[];return d(e,"array")&&d(t,"string")&&e.forEach(function(e){e[t]&&-1==r.indexOf(e[t])&&r.push(e[t])}),r},_=function(e,t){return f(e,o(t))}},16:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t=t||{},this.method=t.method||"GET",this.body=t.body||{},this.type=t.type||!1;var r={appUser:"ds_mpos",signkey:"36f9c59d46ad450f84c47f81e10b429c"};return this.body=Object.assign(this.body,r),this.headers=t.headers||{},this.api=e,this.https=t.https||!1,this["_gw"==this.https?"_gw":this.https?"_https":"_fetch"]()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t.loading&&l.default.show(),new a(e,t).finally(function(){t.loading&&l.default.hide()})};var i=r(2),o=n(i),u=r(3),c=n(u),d=r(17),s=n(d),f=r(18),l=n(f),_=r(13),h=n(_),g=r(4),p=n(g),m=weex.requireModule("stream"),v=weex.requireModule("jfHttpsModule");a.prototype._gw=function(){var e=this;return new Promise(function(t,r){c.default.getToken().then(function(n){var a=e.method.toLocaleUpperCase(),i={headers:{"Content-Type":"application/json"},method:a,url:o.default.GW_API_URL+e.api,type:"json",timeout:6e4,body:JSON.stringify(e.body)};console.log("请求的地址：",o.default.GW_API_URL+e.api),console.log("请求的总参数：",i),console.log("请求的参数：",e.body),m.fetch(i,function(e){console.log("后台返回的总数据：",e),e.data?t(e.data):r("获取sign失败")})}).catch(function(){h.default.show("login")})})},a.prototype._https=function(){var e=this,t=this,r=this.method.toLocaleLowerCase(),n=o.default.API_URL+this.api;return this.body.mobileNo=this.body.mobileNo||"",this.body.token=this.body.token||"",this.body.version="3.7.4",console.log(t.api+"_接口URL地址：",n),new Promise(function(a,i){c.default.getToken().then(function(r){e.body.mobileNo||(console.log(t.api+"_请求的用户手机号码：",r.mobileNo),e.body.mobileNo=r.encryptMobileNo),e.body.token=r.token}).finally(function(){console.log(t.api+"_接口URL参数：",e.body),v[r](n,e.body,function(e){if(console.log(t.api+"_接口返回的数据：",e),"0000"!==e.code)return i("请求失败");try{"PE15"===e.data.respCode?(i(e.data.respDesc),c.default.logout().finally(function(){return h.default.show("jfb_login")})):a(e.data)}catch(e){i(e)}})})})},a.prototype._fetch=function(){var e=this;return c.default.getToken().then(function(t){return e.body.token=t.token,e.body.version="3.7.4",e.body.mobileNo||(e.body.mobileNo=t.encryptMobileNo),console.log("request.js-1——用户信息：",t),s.default.getUUID(t.mobileNo)}).then(function(t){return e.body.uuid=t,delete e.body.appUser,e.body.app_user="ds_mpos",console.log("request.js-2——UUID：",t),console.log("request.js-3——加密前的参数：",e.body),s.default.md5({req:JSON.stringify(e.body)})}).then(function(t){console.log("request.js-4——MD5：",t);var r=e.method.toLocaleUpperCase(),n=e.type?o.default.API_STORE+e.api:o.default.API_NEXTPAY+e.api;console.log("request.js-5——请求URL：",n);var a={headers:{"Content-Type":"application/x-www-form-urlencoded"},method:r,url:n,type:"text",timeout:6e4};return"GET"==r?a.url=a.url+"?req="+t.req+"&sign="+t.sign+"&ts="+t.ts:"POST"==r&&(a.body="req="+t.req+"&sign="+t.sign+"&ts="+t.ts),new Promise(function(e,t){console.log("request.js-6——发起请求："),console.log("request.js-7——请求参数：",a),m.fetch(a,function(r){if(console.log("request.js-8——请求返回结果：",r),console.log("request.js-8——请求解析结果：",decodeURIComponent(r.data)),200!==r.status)return p.default.toast({message:"服务器异常，请稍后再试"}),t();try{var n=decodeURIComponent(r.data),a=n.indexOf("{"),i=n.lastIndexOf("}");n=n.substr(a,i-a+1);var o=JSON.parse(n);"0001"===o.code||"0002"===o.code?(t(o.msg),c.default.logout().finally(function(){return h.default.show("jfb_login")})):e(o)}catch(e){t(e)}})})})}},162:function(e,t){e.exports={"user-wrap":{width:750,height:228,backgroundColor:"#0093FF",flexDirection:"row",alignItems:"center",paddingLeft:44},"user-left":{flex:1},"user-right":{backgroundColor:"#33a3ff",borderTopLeftRadius:30,borderBottomLeftRadius:30,width:200,height:60,alignItems:"center",flexDirection:"row",paddingLeft:20},"user-right-icon":{width:28,height:28,borderRadius:28,marginRight:20},"user-top-txt":{fontSize:28,color:"#ffffff"},"user-txt":{fontSize:28,color:"#ffffff"},"user-prompt":{height:40,flexDirection:"row",alignItems:"center"},"user-top-icon":{width:48,height:48,marginLeft:40},"user-amount":{justifyContent:"center",height:100,alignItems:"center",flexDirection:"row"},"user-amount-txt":{flex:1,fontSize:72,color:"#ffffff"},"user-amount-prompt":{flexDirection:"row",alignItems:"center",paddingRight:32},"user-amount-prompt-icon":{width:48,height:48},"user-amount-prompt-txt":{fontSize:28,color:"#FFFFFF"},"bank-wrap":{backgroundColor:"#ffffff"},"border-bottom":{borderBottomWidth:2,borderBottomColor:"#f2f2f2"},"border-top":{borderTopWidth:2,borderTopColor:"#f2f2f2"},"border-right":{borderRightWidth:2,borderRightColor:"#f2f2f2"},"bank-title":{flexDirection:"row",paddingLeft:32,paddingRight:24,height:106,alignItems:"center"},"bank-title-txt":{fontSize:36,color:"#4A4A4A",flex:1},"bank-link":{fontSize:28,color:"#0076FF"},"bank-inner":{height:152,width:750,flexDirection:"row",backgroundImage:"linear-gradient(to bottom, #FFFFFF, #ececec)"},"bank-before":{position:"absolute",top:0,left:0,right:0,bottom:0,flexDirection:"row",width:750,paddingRight:20},"bank-after":{position:"absolute",top:0,left:0,right:0,bottom:0,flexDirection:"row",width:750,paddingRight:20},"bank-item":{backgroundImage:"linear-gradient(to bottom, #F5F5F5, #FDFDFD)",width:572,marginLeft:20,flexDirection:"row",height:152,alignItems:"center",borderTopLeftRadius:20,borderTopRightRadius:20},"bank-item-logo":{width:64,height:64,marginLeft:32},"bank-item-name":{marginLeft:28,fontSize:28,color:"#4A4A4A",flex:1},"bank-add":{width:110,height:152,backgroundColor:"#f8f8f8",marginLeft:20,borderTopLeftRadius:20,borderTopRightRadius:20,justifyContent:"center",alignItems:"center"},"bank-add-icon":{marginTop:20,marginBottom:8,width:40,height:40},"bank-add-txt":{fontSize:28,color:"#9B9B9B"},"bank-item-default":{marginRight:18,fontSize:28,color:"#0076FF"},"bank-default":{height:92,width:750,flexDirection:"row",alignItems:"center"},"bank-default-center":{justifyContent:"center"},"bank-default-icon":{marginLeft:34,width:40,height:40,marginRight:24},"bank-default-txt":{fontSize:28,color:"#4A4A4A"},"entry-wrap":{marginTop:20,width:750,flexDirection:"row",flexWrap:"wrap",marginBottom:20}}},17:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if("object"===p.default.getType(e))return e;try{return JSON.parse(e)}catch(e){return{}}}function i(e){var t=e;try{t=-1!==e.indexOf("jfzf")?t.replace(/jfzf/g,"h5pay.html?ur=jfzf"):t.replace(/weixin/g,"h5pay.html?ur=weixin")}catch(e){}return t}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u=r(27),c=n(u),d=r(3),s=n(d),f=r(2),l=n(f),_=r(4),h=n(_),g=r(0),p=n(g),m=weex.requireModule("jfServiceModule"),v=weex.requireModule("openPayModule");t.default={md5:function(e){return new Promise(function(t,r){m.md5(e,function(e){"0000"===e.code?t(e.data):r(e)})}).handle()},getUUID:function(e){return new Promise(function(t,r){m.getUUID(e,function(e){"0000"===e.code?t(e.data):r(e)})}).handle()},getParameter:function(){return new Promise(function(e,t){m.getParameter(function(r){"0000"===r.code?e(r.data):t(r)})}).handle()},pay:function(e){return new Promise(function(t,r){c.default.get().then(function(n){e.orgCode||(e.orgCode=l.default.ORG_CODE,e.orgId=l.default.ORG_CODE);var u=o({amount:"",merchantOrderId:"",goodsDesc:"",merchantCode:"123456",merchantName:"",merchantMessage:"",mobileNo:"",fromMobileNo:"",city:n.province+"|"+n.city+"|"+n.subLocality,payType:"0,1,2",latitude:n.latitude,longitude:n.longitude,reOrPayFlag:"0"},e);console.log("调用支付参数",u),b().then(function(){v.pay(u,function(e){if("0000"!==e.code)return r(e);var n=a(e.data);if("0001"===n.code)return r({code:"ds_system",msg:"网络异常"});if("0002"===n.code)return r({code:"ds_system",msg:"交易取消"});var o=a(n.result),u=a(o.mate),c=a(o.result);if("0000"!==u.code)return r(u);var d="";"0"==n.type&&(d=i(c.codeImgUrl)),t({type:n.type,msg:u.msg,link:d})})})}).catch(function(e){r({msg:e,code:"LOCATION"})})})},pay1:function(e){return c.default.get().then(function(t){return new Promise(function(r,n){e.orgCode||(e.orgCode=l.default.ORG_CODE,e.orgId=l.default.ORG_CODE);var u=o({amount:"",merchantOrderId:"",goodsDesc:"",merchantCode:"",fromMerchantCode:"",merchantName:"",merchantMessage:"",mobileNo:"",fromMobileNo:"",city:t.province+"|"+t.city+"|"+t.subLocality,payType:"0,1,2",latitude:t.latitude,longitude:t.longitude,reOrPayFlag:"0"},e);console.log("调用支付参数",u),b().then(function(){v.pay(u,function(e){if("0000"!==e.code)return n(e);var t=a(e.data);if("0001"===t.code)return n({code:"ds_system",msg:"网络异常"});if("0002"===t.code)return n({code:"ds_system",msg:"交易取消"});var o=a(t.result),u=a(o.mate),c=a(o.result);if("0000"!==u.code)return n(u);var d="";"0"==t.type&&(d=i(c.codeImgUrl)),r({type:t.type,msg:u.msg,link:d})})})})}).catch(function(e){return h.default.alert({message:e+"",okTitle:"知道了"})})},query:function(){return new Promise(function(e,t){s.default.getToken().then(function(r){b().then(function(){v.queryBalance({mobileNo:r.encryptMobileNo,merchantCode:r.payCustomerId,orgCode:l.default.ORG_CODE,orgId:l.default.ORG_CODE},function(r){if("0000"!==r.code)return t(r);var n=a(r.data);if("0001"===n.code)return t({code:"ds_system",msg:"网络异常"});var i=a(n.result),o=a(i.mate),u=a(i.result),c=a(u.message);if("0000"!==o.code)return t(o);e(c)})}).catch(function(e){t("环境设置失败！")})}).catch(function(e){t()})}).handle()},encryptPassword:function(e,t){return new Promise(function(r,n){m.encryptPwd(e,t,function(e){"0000"===e.code?r(e.data):n(e)})}).handle()},drawMoney:function(e){return new Promise(function(t,r){s.default.getToken().then(function(n){b().then(function(){v.drawMoney({mobileNo:n.encryptMobileNo,merchantCode:n.payCustomerId,amount:e,secondToFlag:"T0",orgCode:l.default.ORG_CODE,orgId:l.default.ORG_CODE},function(e){if(console.log(e),"0000"!=e.code)return r(e);if("0001"===e.data.code)return r({code:"ds_system",msg:"网络异常"});var n=e.data.result.mate;if("0000"!==n.code)return r(n.msg);t(n)})}).catch(function(e){r("环境设置失败！")})}).catch(function(e){r()})}).handle()}};var w=!1,b=function(){return new Promise(function(e,t){if(w)return e();v.setOpenPayUrl(l.default.OPEN_PAY,l.default.OPEN_PAY_UPLOAD,function(r){if("0000"!=r.code)return t();w=!0,e()})})}},18:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(1);var n=r(10),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=a.default},19:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(7),i=n(a),o=r(9),u=n(o),c=weex.requireModule("transitionModule"),d=new u.default(1e3);t.default={show:function(e){return new Promise(function(t,r){if(!d.do(e))return null;i.default.page(e).then(function(e){c.present({url:e,animated:"true"},function(e){t()})})}).handle()},close:function(){return new Promise(function(e,t){c.dismiss({},function(t){e()})}).handle()}}},2:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={GW_API_URL:"http://gw.finumi.com/open-misc/",API_URL:"https://appdl.91dbq.com/jfpay_prepo_new/",API_NEXTPAY:"http://210.22.146.219:3489/nextpay_shop/v1/",API_STORE:"http://newfd.91dbq.com/nextpay_shop/v1/",OPEN_PAY:"https://openpays.91dbq.com/",OPEN_PAY_UPLOAD:"http://openpay-file.91dbq.com:9527/",ORG_CODE:"170330165348",MACHINES_TOOL_ORG_CODE:"170904134355",MACHINES_TOOL_MERCHANT_CODE:"8508120858515018",SOURCE:"http://appimg.91dbq.com/img/jfb/image/0.0.2/"}},20:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=weex.requireModule("storage"),o=function(e,t,r){return new Promise(function(n,a){if("string"!=g(e))return a("key must be string");i.setItem(e,_(t,r),function(e){"success"===e.result?n():a("set store error")})})},u=function(e){return new Promise(function(t,r){if("string"!=g(e))return r("key must be string");i.getItem(e,function(n){"success"===n.result?t(h(n.data)):r(e+" is undefined")})})},c=function(e){return new Promise(function(t,r){if("string"!=g(e))return r("key must be string");i.getAllKeys(function(n){-1!=n.data.indexOf(e)?t():r(e+" is undefined")})})},d=function(e){return new Promise(function(t,r){if("string"!=g(e))return r("key must be string");i.removeItem(e,function(n){if("success"===n.result)return t();c(e).then(function(){return r("remove store error")}).catch(function(){return t()})})})},s=function(){return new Promise(function(e,t){i.getAllKeys(function(r){"success"===r.result?e(r.data):t(r)})})},f=function(){return s().then(function(e){var t=[];return e.forEach(function(e){return t.push(u(e).then(function(t){return n({},e,t)}))}),Promise.all(t).then(function(e){var t={};return e.forEach(function(e){t=a({},t,e)}),t})})},l=function(){return s().then(function(e){var t=[];return e.forEach(function(e){return t.push(d(e))}),Promise.all(t)})};t.default={set:o,get:u,has:c,remove:d,getAllKeys:s,getAll:f,clear:l};var _=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return JSON.stringify({_name_:"store",type:g(e),effect:t,lastaccess:(new Date).getTime(),storage:e})},h=function(e){try{var t=JSON.parse(e);return"store"===t._name_?t.storage:t}catch(t){return e}},g=function(e){return Object.prototype.toString.call(e).toLowerCase().match(/\s\w+/)[0].trim()}},201:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("wov-view",{attrs:{view_header_border_width:"0",view_header_left_src_mar_left:"40",view_header_left_src_size:[54,54],view_header_left_src_style:"view-extend",view_not_use_left_default_click:!0,view_header_right_src:e.right_src,view_header_left_src:e.user_avatar_src||e.avatar_default_src,view_header_background_color:"#0093FF"},on:{leftItemClick:function(t){e.handleJump("jfb_personal_center")},rightItemClick:function(t){e.handleJump("jfb_messagecenter")},viewappear:e.handleViewAppear}},[r("div",{staticClass:["user-wrap"]},[r("div",{staticClass:["user-left"],on:{click:e.handleLogin}},[r("div",{staticClass:["user-prompt"]},[r("text",{staticClass:["user-top-txt"]},[e._v(e._s(e.auth?"待结营业收入(元)":"请登录帐号"))]),e.auth?r("image",{staticClass:["user-top-icon"],attrs:{src:e.is_on_off?e.eye_on_src:e.eye_off_src},on:{click:function(t){e.is_on_off=!e.is_on_off}}}):e._e()]),r("div",{staticClass:["user-amount"]},[r("text",{staticClass:["user-amount-txt"]},[e._v(e._s(e.amountComputed))]),!e.need_cash&&e.auth?r("div",{staticClass:["user-amount-prompt"]},[r("image",{staticClass:["user-amount-prompt-icon"],attrs:{src:e.time_src}}),r("text",{staticClass:["user-amount-prompt-txt"]},[e._v("下个工作日到账")])]):e._e()])])]),r("div",{staticClass:["bank-wrap","border-bottom"]},[r("div",{staticClass:["bank-title"]},[r("text",{staticClass:["bank-title-txt"]},[e._v("我的提款帐号")]),r("text",{staticClass:["bank-link"],on:{click:function(t){e.handleWithdrawalsCard("jfb_drawing_account_manage")}}},[e._v("提款帐号管理")])]),r("div",{staticClass:["bank-inner"]},[r("scroller",{staticClass:["bank-after"],attrs:{scrollDirection:"horizontal"}},[e.card_arr&&e.card_arr.length?e._e():r("div",{staticClass:["bank-item"]},[r("image",{staticClass:["bank-item-logo"],attrs:{src:e.bank_default_src}}),r("text",{staticClass:["bank-item-name"]},[e._v("请添加绑定提款卡")])]),e._l(e.card_arr,function(t,n){return e.card_arr.length?r("div",{key:n,staticClass:["bank-item"]},[r("image",{staticClass:["bank-item-logo"],attrs:{src:e._f("cardLogoFilter")(t.bankId)}}),r("text",{staticClass:["bank-item-name"]},[e._v(e._s(e._f("cardNameFilter")(t.bankName)))]),1==t.isMainCard?r("text",{staticClass:["bank-item-default"]},[e._v("默认提款账户")]):e._e()]):e._e()}),e.card_arr.length<=1||!e.card_arr.length?r("div",{staticClass:["bank-add"],on:{click:function(t){e.handleWithdrawalsCard("jfb_drawing_account_add")}}},[r("image",{staticClass:["bank-add-icon"],attrs:{src:e.bank_add_src}}),r("text",{staticClass:["bank-add-txt"]},[e._v("添加")])]):e._e()],2)]),r("div",{staticClass:["bank-default"],class:[!e.card&&"bank-default-center"]},[e.card?r("image",{staticClass:["bank-default-icon"],attrs:{src:e._f("cardLogoFilter")(e.card.bankId)}}):e._e(),e.card?r("text",{staticClass:["bank-default-txt"]},[e._v(e._s(e._f("cardNameFilter")(e.card.bankName))+" "+e._s(e.returnCardNo(e.card.accountNo)))]):e._e(),e.card?e._e():r("text",{staticClass:["bank-default-txt"]},[e._v("提款卡未绑定")])])]),e.menu?r("dd-catg",{staticClass:["entry-wrap","border-top"],attrs:{data:e.menu.data,options:e.menu.options},on:{dispatch:e.handleDispatch}}):e._e()],1)},staticRenderFns:[]},e.exports.render._withStripped=!0},21:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(25),a=function(e){return e&&e.__esModule?e:{default:e}}(n),i=weex.requireModule("navigator");t.default={data:function(){return{padding_top:0}},props:{view_use_compatible:{default:!0},view_use_scroll:{default:a.default.view_use_scroll},view_header_left_src_style:{default:""},view_not_use_left_default_click:{default:a.default.view_not_use_left_default_click},view_background_color:{default:a.default.view_background_color},view_use_header:{default:a.default.view_use_header},view_header_height:{default:a.default.view_header_height},view_header_border_width:{default:a.default.view_header_border_width},view_header_border_color:{default:a.default.view_header_border_color},view_header_background_color:{default:a.default.view_header_background_color},view_header_background_image:{default:a.default.view_header_background_image},view_header_left_src:{default:a.default.view_header_left_src},view_header_left_src_size:{default:a.default.view_header_left_src_size},view_header_left_src_mar_left:{default:a.default.view_header_left_src_mar_left},view_header_left_src_mar_right:{default:a.default.view_header_left_src_mar_right},view_header_left_src_pad_left:{default:a.default.view_header_left_src_pad_left},view_header_left_src_pad_right:{default:a.default.view_header_left_src_pad_right},view_header_left_txt:{default:a.default.view_header_left_txt},view_header_left_color:{default:a.default.view_header_left_color},view_header_left_size:{default:a.default.view_header_left_size},view_header_left_txt_mar_left:{default:a.default.view_header_left_txt_mar_left},view_header_left_txt_mar_right:{default:a.default.view_header_left_txt_mar_right},view_header_center_src:{default:a.default.view_header_center_src},view_header_center_src_size:{default:a.default.view_header_center_src_size},view_header_center_src_mar_left:{default:a.default.view_header_center_src_mar_left},view_header_center_src_mar_right:{default:a.default.view_header_center_src_mar_right},view_header_center_src_pad_left:{default:a.default.view_header_center_src_pad_left},view_header_center_src_pad_right:{default:a.default.view_header_center_src_pad_right},view_header_center_txt:{default:a.default.view_header_center_txt},view_header_center_size:{default:a.default.view_header_center_size},view_header_center_color:{default:a.default.view_header_center_color},view_header_right_src:{default:a.default.view_header_right_src},view_header_right_src_size:{default:a.default.view_header_right_src_size},view_header_right_src_mar_left:{default:a.default.view_header_right_src_mar_left},view_header_right_src_mar_right:{default:a.default.view_header_right_src_mar_right},view_header_right_src_pad_left:{default:a.default.view_header_right_src_pad_left},view_header_right_src_pad_right:{default:a.default.view_header_right_src_pad_right},view_header_right_txt:{default:a.default.view_header_right_txt},view_header_right_size:{default:a.default.view_header_right_size},view_header_right_color:{default:a.default.view_header_right_color},view_header_right_txt_mar_left:{default:a.default.view_header_right_txt_mar_left},view_header_right_txt_mar_right:{default:a.default.view_header_right_txt_mar_right}},created:function(){var e=this.$getConfig().env;if("iOS"===e.platform){var t=e.deviceWidth/e.scale;this.height=48e3/t,this.height<149?this.padding_top=72:this.padding_top=Math.floor(this.height-88)}},methods:{rightItemClickHandle:function(e){this.$emit("rightItemClick",e)},leftItemClickHandle:function(e){this.view_not_use_left_default_click?this.$emit("leftItemClick",e):i.pop()},handleViewAppear:function(){this.$emit("viewappear")}}}},22:function(e,t){e.exports={"view-wrap":{flex:1,width:750},"view-header":{flexDirection:"row",width:750},"view-header-right":{position:"absolute",flexDirection:"row",alignItems:"center",bottom:0,right:0},"view-header-left":{position:"absolute",flexDirection:"row",alignItems:"center",bottom:0,left:0},"view-extend":{borderRadius:100},"view-header-center":{position:"absolute",flexDirection:"row",left:120,right:120,textAlign:"center",justifyContent:"center",alignItems:"center"},"view-inner":{flex:1}}},223:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(303),i=r(11),o=n(i),u=r(4),c=n(u),d=r(13),s=n(d),f=r(3),l=n(f);t.default={props:{data:{default:[]},options:{default:{type:"normal",each:3}}},data:function(){return{token:{}}},computed:{list:function(){return(0,a.d2)(this.data,this.options.each)},scale:function(){return{normal:1,larger:1.2,large:1.5}[this.options&&this.options.type||"normal"]}},methods:{onclick:function(e){this._middleware(e._middleware)},_async:function(e){if(e.push)o.default.push(e.push);else if(e.toast)c.default.toast({message:e.toast});else if(e.link)o.default.push("jfb_webview",{link:this._linking(e.link)});else if(e.dispatch)this.$emit("dispatch",e.dispatch);else{if(e.token)return l.default.getToken().then(function(e){this.token=e}.bind(this)).catch(function(){return s.default.show("jfb_login"),Promise.reject()});if(e.authen)return l.default.getToken().then(function(e){return"3"==e.authenFlag?Promise.resolve():"D"==e.authenFlag?Promise.resolve():"B"==e.authenFlag?Promise.resolve():this._authen(e.authenFlag).then(function(){switch(e.authenFlag){case"2":return o.default.push("jfb_authenticating"),Promise.reject();case"4":return o.default.push("jfb_authenticationFailure"),Promise.reject();default:return o.default.push("jfb_certification"),Promise.reject()}}).catch(function(e){return Promise.reject()})}.bind(this))}return Promise.resolve()},_authen:function(e){return new Promise(function(e,t){c.default.confirm({message:"请先完成实名认证",okTitle:"去认证",cancelTitle:"取消"},function(r){"去认证"===r?e():t()})})},_linking:function(e){return e=e.replace(/\$\{PHONE\}/g,this.token.mobileNo),e=e.replace(/\$\{APPID\}/g,"RFQ201704ds")},_middleware:function(e){if(!this._check(e))return null;this._async(e[0]).then(function(t){e=e.slice(1,e.length),this._middleware(e)}.bind(this)).catch(function(e){c.default.toast({message:e})})},_check:function(e){return-1!==Object.prototype.toString.call(e).toLowerCase().indexOf("array")&&0!==e.length}}}},23:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:["view-wrap"],style:{backgroundColor:e.view_background_color},on:{viewappear:e.handleViewAppear}},[e.padding_top&&e.view_use_compatible?r("div",{staticClass:["view-compatible"],style:{height:e.padding_top,backgroundColor:e.view_header_background_color}}):e._e(),e.view_use_header?r("div",{staticClass:["view-header"],style:{height:e.view_header_height,backgroundColor:e.view_header_background_color,borderBottomColor:e.view_header_border_color,borderBottomWidth:e.view_header_border_width}},[r("div",{staticClass:["view-header-left"],style:{height:e.view_header_height},on:{click:e.leftItemClickHandle}},[e.view_header_left_src?r("image",{staticClass:["header-left-image"],class:[e.view_header_left_src_style],style:{width:e.view_header_left_src_size[0]+e.view_header_left_src_pad_left+e.view_header_left_src_pad_right,marginLeft:e.view_header_left_src_mar_left,marginRight:e.view_header_left_src_mar_right,paddingLeft:e.view_header_left_src_pad_left,paddingRight:e.view_header_left_src_pad_right,height:e.view_header_left_src_size[1]},attrs:{src:e.view_header_left_src}}):e._e(),e.view_header_left_txt?r("text",{staticClass:["header-left-text"],style:{color:e.view_header_left_color,fontSize:e.view_header_left_size,marginLeft:e.view_header_left_txt_mar_left,marginRight:e.view_header_left_txt_mar_right}},[e._v(e._s(e.view_header_left_txt))]):e._e()]),r("div",{staticClass:["view-header-center"],style:{height:e.view_header_height}},[r("text",{staticClass:["header-center-text"],style:{color:e.view_header_center_color,fontSize:e.view_header_center_size}},[e._v(e._s(e.view_header_center_txt))]),e.view_header_center_src?r("image",{staticClass:["header-center-image"],style:{width:e.view_header_center_src_size[0]+e.view_header_center_src_pad_left+e.view_header_center_src_pad_right,marginLeft:e.view_header_center_src_mar_left,marginRight:e.view_header_center_src_mar_right,paddingLeft:e.view_header_center_src_pad_left,paddingRight:e.view_header_center_src_pad_right,height:e.view_header_center_src_size[1]},attrs:{src:e.view_header_center_src}}):e._e()]),r("div",{staticClass:["view-header-right"],style:{height:e.view_header_height},on:{click:e.rightItemClickHandle}},[e.view_header_right_txt?r("text",{staticClass:["header-right-text"],style:{color:e.view_header_right_color,fontSize:e.view_header_right_size,marginLeft:e.view_header_right_txt_mar_left,marginRight:e.view_header_right_txt_mar_right}},[e._v(e._s(e.view_header_right_txt))]):e._e(),e.view_header_right_src?r("image",{staticClass:["header-right-image"],style:{width:e.view_header_right_src_size[0]+e.view_header_right_src_pad_left+e.view_header_right_src_pad_right,marginLeft:e.view_header_right_src_mar_left,marginRight:e.view_header_right_src_mar_right,paddingLeft:e.view_header_right_src_pad_left,paddingRight:e.view_header_right_src_pad_right,height:e.view_header_right_src_size[1]},attrs:{src:e.view_header_right_src}}):e._e()])]):e._e(),e.view_use_scroll?r("scroller",{staticClass:["view-inner"]},[e._t("default")],2):r("div",{staticClass:["view-inner"]},[e._t("default")],2)])},staticRenderFns:[]},e.exports.render._withStripped=!0},232:function(e,t){e.exports={row:{backgroundColor:"#FFFFFF",flexDirection:"row",width:750},item:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#FFFFFF","backgroundColor:active":"#f2f2f2"},icon:{width:65,height:65},title:{color:"#8D8D8D",marginTop:30,fontSize:28},"border-bottom":{borderBottomWidth:2,borderBottomColor:"#f2f2f2"},"border-top":{borderTopWidth:2,borderTopColor:"#f2f2f2"},"border-right":{borderRightWidth:2,borderRightColor:"#f2f2f2"}}},24:function(e,t,r){var n,a,i=[];i.push(r(22)),n=r(21);var o=r(23);a=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(Object.keys(n).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),a=n=n.default),"function"==typeof a&&(a=a.options),a.__file="F:\\workproject\\jfb_web\\src\\components\\wov\\wov-view\\index.vue",a.render=o.render,a.staticRenderFns=o.staticRenderFns,a._scopeId="data-v-d19d7cf2",a.style=a.style||{},i.forEach(function(e){for(var t in e)a.style[t]=e[t]}),"function"==typeof __register_static_styles__&&__register_static_styles__(a._scopeId,i),e.exports=n},242:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:["container"]},e._l(e.list,function(t,n){return r("div",{key:n,staticClass:["row"]},e._l(t,function(t,n){return r("div",{key:n,staticClass:["item","border-right","border-bottom"],style:{height:200*e.scale+"px"},on:{click:function(r){e.onclick(t)}}},[r("image",{staticClass:["icon"],style:{height:65*e.scale+"px",width:65*e.scale+"px"},attrs:{src:t.icon}}),r("text",{staticClass:["title"]},[e._v(e._s(t.title))])])}))}))},staticRenderFns:[]},e.exports.render._withStripped=!0},25:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={view_use_scroll:!0,view_not_use_left_default_click:!1,view_use_header:!0,view_header_height:88,view_header_border_width:1,view_header_border_color:"#f2f2f2",view_background_color:"#f8f8f8",view_header_background_color:"#fff",view_header_background_image:"",view_header_left_src:(0,a.default)("jfb_return_icon.png?v=1"),view_header_left_src_size:[48,48],view_header_left_src_mar_left:25,view_header_left_src_mar_right:0,view_header_left_src_pad_left:0,view_header_left_src_pad_right:0,view_header_left_txt:"",view_header_left_color:"#3c3c3c",view_header_left_size:24,view_header_left_txt_mar_left:0,view_header_left_txt_mar_right:0,view_header_center_src:"",view_header_center_src_size:[48,48],view_header_center_src_mar_left:0,view_header_center_src_mar_right:0,view_header_center_src_pad_left:0,view_header_center_src_pad_right:0,view_header_center_txt:"",view_header_center_size:34,view_header_center_color:"#3c3c3c",view_header_right_src:"",view_header_right_src_size:[48,48],view_header_right_src_mar_left:0,view_header_right_src_mar_right:32,view_header_right_src_pad_left:0,view_header_right_src_pad_right:0,view_header_right_txt:"",view_header_right_size:30,view_header_right_color:"#3c3c3c",view_header_right_txt_mar_left:0,view_header_right_txt_mar_right:25}},253:function(e,t,r){var n,a,i=[];i.push(r(232)),n=r(223);var o=r(242);a=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(Object.keys(n).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),a=n=n.default),"function"==typeof a&&(a=a.options),a.__file="F:\\workproject\\jfb_web\\src\\dd-components\\vue\\dd-catg.vue",a.render=o.render,a.staticRenderFns=o.staticRenderFns,a._scopeId="data-v-348d2230",a.style=a.style||{},i.forEach(function(e){for(var t in e)a.style[t]=e[t]}),"function"==typeof __register_static_styles__&&__register_static_styles__(a._scopeId,i),e.exports=n},26:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(24);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(a).default}})},27:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(1);var n=r(28),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=a.default},28:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=weex.requireModule("jfLocationModule");t.default={get:function(){return new Promise(function(e,t){n.getLocation(function(r){"0000"===r.code?e(r.data):t(r)})}).handle()}}},286:function(e,t,r){var n,a,i=[];i.push(r(162)),n=r(129);var o=r(201);a=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(Object.keys(n).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),a=n=n.default),"function"==typeof a&&(a=a.options),a.__file="F:\\workproject\\jfb_web\\src\\modules\\jfb\\mine.vue",a.render=o.render,a.staticRenderFns=o.staticRenderFns,a._scopeId="data-v-539a5916",a.style=a.style||{},i.forEach(function(e){for(var t in e)a.style[t]=e[t]}),"function"==typeof __register_static_styles__&&__register_static_styles__(a._scopeId,i),e.exports=n,e.exports.el="true",new Vue(e.exports)},3:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0});var i=r(12),o=n(i),u=r(0),c=n(u),d={realName:"",mobileNo:"",encryptMobileNo:"",userType:"",certPid:"",certType:"",token:"",authenFlag:"",email:"",customerId:"",payCustomerId:"",status:"",collection_or_payment:!1,authScanRecognizeTimeoutCount:""};t.default={login:function(e){return o.default.set("DD_AUTH_STORE_DATA",c.default.defaults(e,d)).catch(function(e){throw"登录失败"})},update:function(e){return c.default.isObject(e)?o.default.get("DD_AUTH_STORE_DATA").then(function(t){return t=c.default.isObject(t)?t:{},t=Object.assign(t,e),o.default.set("DD_AUTH_STORE_DATA",t)}):Promise.reject("update input must be object")},getToken:function(){return o.default.get("DD_AUTH_STORE_DATA").catch(function(e){throw"用户未登录"})},cache:{set:function(e,t){return c.default.isString(e)?c.default.isEmpty(e)?Promise.reject("cache must has value"):o.default.get("DD_AUTH_CACHE_STORE_DATA").then(function(r){return r=c.default.isObject(r)?r:{},r[e]=t,o.default.set("DD_AUTH_CACHE_STORE_DATA",r)}).catch(function(r){return o.default.set("DD_AUTH_CACHE_STORE_DATA",a({},e,t))}):Promise.reject("cache must has key")},get:function(e){return c.default.isString(e)?o.default.get("DD_AUTH_CACHE_STORE_DATA").then(function(t){return c.default.isObject(t)&&t[e]?Promise.resolve(t[e]):Promise.reject("cache don't has"+e)}):Promise.reject("cache must has key")}},logout:function(){return Promise.all([o.default.remove("DD_AUTH_STORE_DATA"),o.default.remove("DD_AUTH_CACHE_STORE_DATA"),o.default.remove("pay_history")]).catch(function(e){throw"缓存清除失败"})}}},303:function(e,t,r){"use strict";function n(e,t){for(var r=[],n=0;n<e.length;n++){var a=Math.floor(n/t);r[a]||(r[a]=[]),r[a].push(e[n])}for(var i=r[r.length-1],o=t-i.length,u=0;u<o;u++)i.push({});return r}Object.defineProperty(t,"__esModule",{value:!0}),t.d2=n},35:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(1);var n=r(36),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=a.default},36:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5),a=function(e){return e&&e.__esModule?e:{default:e}}(n),i=weex.requireModule("gesturePwdModule"),o=new a.default(2e3);t.default={set:function(e){return new Promise(function(t,r){if(!o.do(e))return null;i.setGesture(e,function(e){"0000"===e.code?t(e.data):r(e)})}).handle()},check:function(e){return new Promise(function(t,r){i.checkGesture(e,function(e){"0000"===e.code?t(e.data):r(e)})}).handle()},reset:function(e){return new Promise(function(t,r){i.resetGesture(e,function(e){"0000"===e.code?t(e.data):r(e)})}).handle()},edit:function(e){return new Promise(function(t,r){i.alterGesture(e,function(e){"0000"===e.code?t(e.data):r(e)})}).handle()},delete:function(e){return new Promise(function(t,r){i.deleteGesture(e,function(e){"0000"===e.code?t(e.data):r(e)})}).handle()},setImage:function(e){return i.setImage(e)}}},38:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(16),i=n(a),o=r(3),u=n(o),c=r(11),d=n(c),s=r(35),f=n(s),l=r(13),_=n(l),h=r(12),g=n(h),p=r(0),m=n(p),v=r(39),w=n(v),b=weex.requireModule("stream");t.default={checkToken:function(){return new Promise(function(e,t){u.default.getToken().then(function(r){if(!r.mobileNo||!r.token)throw"token formal error";return(0,i.default)("CheckToken.Req",{method:"POST",https:!0}).then(function(n){return"0000"===n.respCode?e(r):t()})}).catch(function(e){t(e)})})},authenRealName:function(){u.default.getToken().then(function(e){switch(e.authenFlag){case"2":d.default.push("jfb_authenticating");break;case"3":d.default.push("jfb_authenticationOK");break;case"4":d.default.push("jfb_authenticationFailure");break;case"B":d.default.push("jfb_authenticationOK");break;case"D":d.default.push("jfb_authenticatfsz");break;default:d.default.push("jfb_certification")}})},showLogin:function(){u.default.getToken().then(function(e){return f.default.delete(e.mobileNo)}).then(function(){return u.default.logout()}).finally(function(){_.default.show("jfb_login")})},queryMerchantNumber:function(e){var t={method:"POST",body:{userPhone:e},https:!0};return new Promise(function(r,n){u.default.getToken().then(function(a){(0,i.default)("selectOtherUserInfo.Req",t).then(function(t){var i=t.respBody?JSON.parse(t.respBody):{};if("0000"!==t.respCode)return r(t);var o=i.payCustomerId;if(console.log("获取到的商户号:",o),a.mobileNo===e&&o)return void u.default.update({payCustomerId:o}).then(function(){r(t)}).catch(function(){n()});r(t)})})})},queryUserInfo:function(){var e={method:"POST",https:!0};return new Promise(function(t,r){u.default.getToken().then(function(n){(0,i.default)("UserInfoQuery2.Req",e).then(function(e){if("0000"!==e.respCode)return r(e);var n=e.data,a=n.authenFlag,i=n.certPid,o=n.realName,c=n.customerId;u.default.update({authenFlag:a,certPid:i,realName:o,customerId:c}).then(function(){t(e)}).catch(function(){r(e)})})})})},queryUserInfo2:function(){return u.default.getToken().then(function(e){var t={method:"POST",https:!0};return(0,i.default)("UserInfoQuery2.Req",t)}).then(function(e){if("0000"!==e.respCode)return Promise.reject(e);var t=e.data,r=t.authenFlag,n=t.certPid,a=t.realName,i=t.customerId;return u.default.update({authenFlag:r,certPid:n,realName:a,customerId:i})})},getTipInfo:function(){return new Promise(function(e,t){g.default.get("APPTIPINFO").then(function(t){e(t)}).catch(function(r){var n={method:"POST",https:!0};(0,i.default)("getAppTip.Req",n).then(function(t){if("0000"===t.respCode){var r=m.default.keyBy(t.data,"tipType");g.default.set("APPTIPINFO",r),e(r)}}).catch(function(e){t(e)})})})},getCity:function(){return new Promise(function(e,t){var r={headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"GET",url:(0,w.default)("city.json"),type:"json",timeout:1e4};b.fetch(r,function(r){if(200!==r.status)return t();e(r.data)})})}}},39:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){return a.default.IMG_SOURCE+e}},4:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(1);var n=r(8),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=a.default},5:function(e,t,r){"use strict";function n(e){this.timer="",this.deferred="",this.duration=e||2e3}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,n.prototype.do=function(e){var t=this;if(this.deferred!=e)return this.deferred=e,clearTimeout(this.timer),this.timer=setTimeout(function(){t.deferred=""},this.duration),!0}},53:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={tofixed:function(e){return((parseFloat(e)||0)/100).toFixed(2)},formateMoney:function(e){var t=parseFloat(e);if(t){e=(t/100).toFixed(2)+"";var r=e.split(".")[0].split("").reverse(),n=e.split(".")[1],a="";return r.forEach(function(e,t){a+=r[t]+((t+1)%3==0&&t+1!=r.length?",":"")}),a.split("").reverse().join("")+"."+n}return 0==e?"0.00":"---"},todate:function(e){if(e){return e.substr(0,4)+"-"+e.substr(4,2)+"-"+e.substr(6,2)}return"---"},dateformat:function(e){if(e){return e.substr(0,4)+"年"+e.substr(4,2)+"月"+e.substr(6,2)+"日"}return"年 月 日"},dayFormat:function(e){if(e){return e.substr(6,2)+"号"}return" 号"},nameFormatStar:function(e){if(e){return e.replace(/.(?=.)/g,"*")}},cardFormatStar:function(e){if(e){return e.replace(/(\d{0})\d+(\d{4})/,"$1 **** **** **** $2")}},cardFormatStar2:function(e){if(e){return e.replace(/(\d{4})\d+(\d{4})/,"$1 **** **** $2")}},bankcardformat:function(e){if(e){return e.substr(0,4)+" "+e.substr(4,4)+" "+e.substr(8,4)+" "+e.substr(12,4)+" "+e.substr(16,4)}return""},bankcardLastNum:function(e){if(e){return e.substr(e.length-4)}return""},hidephone:function(e){return e?e.substr(0,4)+"****"+e.substr(7,4):"---"},phoneFouth:function(e){if(e){return e.substring(0,3)+"****"+e.substring(8,11)}return""},removeSpaces:function(e){return e.replace(/\s+/g,"")},date:function(e,t){var r=t||new Date,n={"M+":r.getMonth()+1,"d+":r.getDate(),"h+":r.getHours(),"m+":r.getMinutes(),"s+":r.getSeconds(),"q+":Math.floor((r.getMonth()+3)/3),S:r.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(r.getFullYear()+"").substr(4-RegExp.$1.length)));for(var a in n)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?n[a]:("00"+n[a]).substr((""+n[a]).length)));return e},getDateStr:function(e){var t=new Date;return t.setDate(t.getDate()+e),t.getFullYear()+"."+(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"."+(t.getDate()<10?"0"+t.getDate():t.getDate())}}},6:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){return a.default.SOURCE+e}},7:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),a=function(e){return e&&e.__esModule?e:{default:e}}(n),i=weex.requireModule("loadResurceModule");t.default={page:function(e){if(a.default.isString(e))return o(e).handle();if(a.default.isArray(e)){var t=[];return e.forEach(function(e){return t.push(o(e))}),Promise.all(t).handle()}},source:function(e){return new Promise(function(t,r){i.getUrlPath(e,function(e){"0000"===e.code?t(e.data):r(e)})}).handle()}};var o=function(e){return new Promise(function(t,r){var n=e.substr(e.lastIndexOf("/")+1).split(".")[0];i.getRoutePath(n,function(e){"0000"===e.code?t(e.data):r(e)})})}},8:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(5),i=n(a),o=r(0),u=n(o),c=weex.requireModule("modal"),d=new i.default(2e3);t.default={toast:function(e){return d.do(e.message)?u.default.isEmpty(e.message)?null:(e.duration=e.duration||2,void c.toast(e)):null},alert:function(e,t){c.alert(e,t)},confirm:function(e,t){c.confirm(e,t)},prompt:function(e,t){c.prompt(e,t)}}},88:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(1);var n=r(89),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=a.default},89:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=weex.requireModule("loadMetaModule");t.default={get:function(e,t){return new Promise(function(r,a){n.getSourceMeta(function(n){if(n.data=n.data.data?n.data.data:n.data,!e)return r(n.data);n.data.forEach(function(n){if(e===n.name){if(!t)return r(n.components);n.components.forEach(function(e){if(t===e.type)return r(e)})}})})}).handle()},refresh:function(){return new Promise(function(e,t){n.refreshSourceMeta(function(r){"0000"===r.code?e():t(r)})}).handle()}}},9:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(5),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=a.default}});